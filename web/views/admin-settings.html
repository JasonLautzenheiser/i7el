{% extends 'admin-layout.html' %}

{% block title %}
Admin Settings - 
{% endblock %}

{% block admincontent %}
<h1>Admin Settings</h1>
{%- if saved -%}
	<div class="alert alert-success" role="alert">Settings saved!</div>
{%- endif -%}
<form action="/admin" method="post">
	<h2>User roles</h2>
	<div class="form-group">
		<label for="admins">Administrators</label> (one email per line)
		<textarea class="form-control" rows="8" name="admins" id="admins">{{ admins }}</textarea>
	</div>
	<div class="form-group">
		<label for="editors">Editors</label> (one email per line)
		<textarea class="form-control" rows="8" name="editors" id="editors">{{ editors }}</textarea>
	</div>
	<h2>Library settings</h2>
	<div class="form-group">
		<label for="releases">Inform 7 releases</label> (one per line)
		<textarea class="form-control" rows="8" name="releases" id="releases">{{ releases }}</textarea>
	</div>
	<div class="form-group">
		<label for="upload_limit">Filesize upload limit</label>
		<div class="form-inline">
			<div class="input-group">
				<span class="input-group-addon">{{ macros.icon( 'upload fa-fw' ) }}</span>
				<input type="text" class="form-control" name="upload_limit" id="upload_limit" value="{{ settings.get( 'upload_limit' ) }}">
				<span class="input-group-addon">kB</span>
			</div>
		</div>
	</div>
	<h2>User authentication settings</h2>
	<div class="form-group">
		<label for="sessionsecret">Session secret</label>
		<div class="input-group">
			<span class="input-group-addon">{{ macros.icon( 'lock fa-fw' ) }}</span>
			<input type="text" class="form-control" name="sessionsecret" id="sessionsecret" value="{{ settings.get( 'sessionsecret' ) }}">
		</div>
	</div>
	<div class="form-group">
		<label for="googlekey">Google OAuth consumer key</label>
		<div class="input-group">
			<span class="input-group-addon">{{ macros.icon( 'google fa-fw' ) }}</span>
			<input type="text" class="form-control" name="googlekey" id="googlekey" value="{{ settings.get( 'google' ).key }}">
		</div>
	</div>
	<div class="form-group">
		<label for="googlesecret">Google OAuth consumer secret</label>
		<div class="input-group">
			<span class="input-group-addon">{{ macros.icon( 'google fa-fw' ) }}</span>
			<input type="text" class="form-control" name="googlesecret" id="googlesecret" value="{{ settings.get( 'google' ).secret }}">
		</div>
	</div>
	<div class="form-group">
		<button type="submit" class="btn btn-default">Save</button>
	</div>
</form>
{% endblock %}
